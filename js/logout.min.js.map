{"version":3,"file":"logout.min.js","mappings":"mBAgBAA,eAAeC,EAAOC,GAClBA,EAAMC,kBACND,EAAME,iBAET,IAAIC,EAASH,EAAMG,OAEnB,GAAGA,EAAOC,QAAQ,WAAW,CCpB7BC,SAASC,iBAAiB,kDAAkDC,SAAQC,GAAIA,EAAGC,UAAUC,OAAO,aAC5GL,SAASM,cAAc,QAAQF,UAAUC,OAAO,oBAChDL,SAASC,iBAAiB,yCAAyCC,SAAQC,GAAIA,EAAGI,aAAe,IDqB1F,IAAIC,EAAYC,KAAKC,WAAWZ,GAAQ,EAAO,GAAI,IAAI,GAEvD,GAAmB,oBAAV,KAAsB,CAC3B,IAAIa,EAAU,CACVC,SAAUJ,EACVK,MAAO,iBACPC,mBAAmB,EACnBC,YAAa,CACTC,KAAM,cAImB,MAA9BhB,SAASiB,oBACRN,EAAgB,OAAIX,SAASiB,mBAGjCC,KAAKC,KAAKR,EACd,CAEA,IAAIS,EAAW,IAAIC,SAEfC,QAAoBC,WAAWC,aAAa,eAAgBJ,GAE7DE,IACCb,KAAKgB,eAAeH,EAAS,WAAW,GAAO,GAG/CI,SAASC,KAAOC,IAAIC,QAE5B,CACJ,CAnDAC,QAAQC,IAAI,oBAGZ/B,SAASgC,iBAAiB,oBAAmB,WAE5ChC,SAASC,iBAAiB,kBAAkBC,SAAQC,IAC7CA,EAAG6B,iBAAiB,QAAStC,GAE7BS,EAAGC,UAAUC,OAAO,SAAS,GAErC,G","sources":["webpack://login/./logout.js","webpack://login/./partials/shared.js"],"sourcesContent":["import {\r\n    closeMobileMenu\r\n} from './partials/shared.js';\r\n\r\nconsole.log(\"logout.js loaded\");\r\n\r\n//Logout user\r\ndocument.addEventListener(\"DOMContentLoaded\",function() {\r\n\r\n\tdocument.querySelectorAll('.logout.hidden').forEach(el=>{\r\n        el.addEventListener('click', logout);\r\n\r\n        el.classList.remove('hidden');\r\n    });\r\n});\r\n\r\nasync function logout(event){\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n\tvar target = event.target;\r\n    \r\n\tif(target.matches(\".logout\")){\r\n        closeMobileMenu();\r\n\r\n        let loader\t\t\t\t= Main.showLoader(target, false, 50, '', true);\r\n\r\n        if(typeof(Swal) != 'undefined'){\r\n            var options = {\r\n                iconHtml: loader,\r\n                title: 'Logging out...',\r\n                showConfirmButton: false,\r\n                customClass: {\r\n                    icon: 'no-border'\r\n                }\r\n            };\r\n            \r\n            if(document.fullscreenElement != null){\r\n                options['target']\t= document.fullscreenElement;\r\n            }\r\n            \r\n            Swal.fire(options);\r\n        }\r\n\r\n        var formData\t= new FormData();\r\n\r\n        var response    = await FormSubmit.fetchRestApi('login/logout', formData);\r\n\r\n        if(response){\r\n            Main.displayMessage(response,'success', false, true);\r\n\r\n            //redirect to homepage\r\n            location.href\t= sim.baseUrl;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","export function closeMobileMenu(){\r\n\t//close mobile menu\r\n\tdocument.querySelectorAll('#site-navigation, #mobile-menu-control-wrapper').forEach(el=>el.classList.remove('toggled'));\r\n\tdocument.querySelector('body').classList.remove('mobile-menu-open');\r\n\tdocument.querySelectorAll(\"#mobile-menu-control-wrapper > button\").forEach(el=>el.ariaExpanded = 0);\r\n}\r\n\r\nexport function showMessage(message){\r\n\tlet el = document.querySelector(\"#message\");\r\n\tel.innerHTML= DOMPurify.sanitize(message);\r\n}\r\n\r\nexport function togglePassworView(ev){\r\n\tev.stopImmediatePropagation();\r\n\t\r\n\tvar target\t= ev.target;\r\n\r\n\tif(ev.target.tagName == 'IMG'){\r\n\t\ttarget\t= ev.target.parentNode;\r\n\t}\r\n\r\n\tif(target.dataset.toggle == '0'){\r\n\t\ttarget.title\t\t\t\t\t\t\t\t= 'Hide password';\r\n\t\ttarget.dataset.toggle\t\t\t\t\t\t= '1';\r\n\t\ttarget.innerHTML\t\t\t\t\t\t\t= target.innerHTML.replace('invisible', 'visible');\r\n\t\ttarget.closest('.password').querySelector('input[type=\"password\"]').type\t= 'text';\r\n\t}else{\r\n\t\ttarget.title\t\t\t\t\t\t\t\t= 'Show password';\r\n\t\ttarget.dataset.toggle\t\t\t\t\t\t= '0';\r\n\t\ttarget.innerHTML\t\t\t\t\t\t\t= target.innerHTML.replace('visible', 'invisible');\r\n\t\ttarget.closest('.password').querySelector('input[type=\"text\"]').type\t= 'password';\r\n\t}\r\n}"],"names":["async","logout","event","stopPropagation","preventDefault","target","matches","document","querySelectorAll","forEach","el","classList","remove","querySelector","ariaExpanded","loader","Main","showLoader","options","iconHtml","title","showConfirmButton","customClass","icon","fullscreenElement","Swal","fire","formData","FormData","response","FormSubmit","fetchRestApi","displayMessage","location","href","sim","baseUrl","console","log","addEventListener"],"sourceRoot":""}