(()=>{"use strict";function e(e){var t=e.target;"IMG"==e.target.tagName&&(t=e.target.parentNode),"0"==t.dataset.toggle?(t.title="Hide password",t.dataset.toggle="1",t.innerHTML=t.innerHTML.replace("invisible","visible"),t.closest(".password").querySelector('input[type="password"]').type="text"):(t.title="Show password",t.dataset.toggle="0",t.innerHTML=t.innerHTML.replace("visible","invisible"),t.closest(".password").querySelector('input[type="text"]').type="password")}function t(){var e=document.querySelector('[name="pass1"]'),t=document.querySelector('[name="pass2"]'),a=document.querySelector("#pass-strength-result1"),n=document.querySelector("#pass-strength-result2"),r="Strength indicator";""==e.value?(a.textContent=r,a.classList.add("hidden")):s(a),""==t.value?(n.textContent=r,n.classList.add("hidden")):(s(n),""!=e.value&&a.classList.add("hidden"))}function s(e){e.classList.remove("short","bad","good","strong");var t=document.querySelector('[name="pass1"]'),s=document.querySelector('[name="pass2"]');if(t.value!=s.value)e.classList.add("bad"),e.textContent=pwsL10n.mismatch;else switch(wp.passwordStrength.meter(t.value,wp.passwordStrength.userInputDisallowedList(),s.value)){case 2:e.classList.add("bad"),e.textContent=pwsL10n.bad;break;case 3:e.classList.add("good"),e.textContent=pwsL10n.good;break;case 4:e.classList.add("strong"),e.textContent=pwsL10n.strong;break;case 5:e.classList.add("short"),e.textContent=pwsL10n.mismatch;break;default:e.classList.add("short"),e.textContent=pwsL10n.short}e.classList.remove("hidden")}async function a(e){var t=e.target.closest("form"),s=new FormData(t),a=await FormSubmit.fetchRestApi("login/update_password",s);a&&(Main.displayMessage(a.message),location.href.includes("?user-id=")||(location.href=a.redirect)),t.querySelector(".submit-wrapper .loader-wrapper").classList.add("hidden")}console.log("Password strength.js loaded"),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".changepass").forEach((e=>e.addEventListener("keyup",t))),document.querySelectorAll('[name="update-password"]').forEach((e=>e.addEventListener("click",a))),document.querySelectorAll(".toggle-pwd-view").forEach((t=>t.addEventListener("click",e)))}))})();
//# sourceMappingURL=password_strength.min.js.map